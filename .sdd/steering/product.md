# Product Overview
- 現状機能: 認証(Fortify)後ダッシュボードでプロジェクト作成・動画アップロード・注釈(JSON)保存・スナップショット保存。共有リンクで閲覧専用アクセスが可能。
- 主題: 動画解析/描画ツールをLaravel内で提供。
- ユーザー: 未確定（想定: コーチ/解析者/チームメンバー）。
- 成功指標: 週あたりのプロジェクト作成数をトラッキング。
- 共有ポリシー: 共有リンクは閲覧のみ。匿名編集は不要。
- 保存形式: 注釈はJSON、スナップショットはpublicストレージにpng。

## 追記 (2025-12-17)
- 想定ユーザー: アップロード/編集する人と、閲覧のみの人がいる。
- 保存先: 外部ストレージ（S3など）は現時点不要。
- 権限: オーナーのみ編集で良い（閲覧者は共有リンク閲覧のみ）。
- 上限ポリシー（現状の方針）:
  - 動画サイズ上限: 500MB
  - プロジェクト数: ユーザーごと上限（無料: 10件、拡張は有料プランで想定）
  - 保存期間: 無料ユーザーは7日間で自動削除（削除前通知あり）。有料プラン検討余地。

## 追加で合意した要求
- ユーザーストーリー: 現行フロー（プロジェクト作成→動画アップ→描画保存→共有リンク閲覧）で十分。追加なし。
- 7日後自動削除: 「動画・スナップショット・注釈JSON」すべて対象。削除前通知を行う。
- 編集権限: オーナーのみ。メンバー招待/共同編集は後回し。
- デバイス: PC優先。モバイル対応は将来想定（当面はPCのみをターゲット）。
- ロギング/監査: 必要だが後回し。
- 成功指標: 週あたりプロジェクト作成数をKPIとして計測する予定（実装は今後）。

## 未決事項 / 今後決めること
- 有料プランの具体: 上限(件数・サイズ)と保存期間をどう緩和するか。
- 削除前通知のチャネル/タイミング（メール? アプリ内? 何日前?）。
- PC以外サポート時のUI要件。
- 監査ログの粒度・保存期間。

---

## Project Discovery メモ (2025-12-18)

### 主要ステークホルダー / 利用者像（仮）
- **オーナー（編集者）**: 動画をアップロードし、注釈（描画/テキスト/番号）を付け、スナップショットを保存し、共有リンクを発行する。
- **閲覧者（匿名/非ログイン）**: 共有リンク経由で動画と注釈を閲覧する（編集不可）。

### 代表的なワークフロー（現状）
1. オーナーがログインし、`/dashboard` からプロジェクト作成
2. プロジェクト画面で動画アップロード（<=500MB）
3. ブラウザ上で注釈を作成し、JSONとして保存（オートセーブあり）
4. 任意時点をスナップショットとして保存（png）
5. 共有トークンを発行し、`/share/{token}` を閲覧者に共有
6. 無料ユーザーは7日保持 → 期限24時間前にメール通知 → 7日経過で削除

### 成功指標（合意済み/未実装）
- **週あたりのプロジェクト作成数**をKPIとして計測する（記録先はDB、粒度は後続で決定）。

### 痛点/リスク（現状把握）
- 大容量アップロード（500MB）のインフラ制約（PHP/リバプロ設定依存）。
- ストレージが `public` である点（URL共有のしやすさと引き換えに露出リスクがある）。
- 「無料ユーザー」判定がまだ明確でない（将来はプランを選べるようにしたいが、現状は全ユーザーが無料扱いになりうる）。
